<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" th:href="@{/images/poseidon_logo.jpg}">
    <link th:href="@{/css/courselisting.css}" rel="stylesheet"/>
    <title>Poseidon</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
<div th:replace="~{fragments/header :: header}"></div>

<h1 class="courses-h1" th:text="'A(z) ' + ${tantargyNev} + ' tárgy kurzusai'"></h1>

<div class="container">
    <div class="header-container" style="margin-top: 4vh;">
        <div class="header-data">ID - Név</div>
        <div class="header-data">Oktató<br> (PS-kód)</div>
        <div class="header-data">Dátum</div>
        <div class="header-data">Vizsga</div>
        <div class="header-data">Telítettség</div>
        <div class="header-data">Felvehető</div>
        <div class="header-data"></div>
    </div>
    <div th:each="course : ${kurzusok}" class="card-container">
        <div th:text="${course.getKurzusId()} + ' - ' + ${course.getNev()}" class="card-data"></div>
        <div th:text="${course.getOktatoNeve()} + ' (' + ${course.getOktatoPsKod()} + ')'" class="card-data"></div>
        <div th:text="${course.getNap()} + ' - ' + ${course.getKezdesIdeje()} + ' óra'" class="card-data"></div>
        <div th:text="${course.getVizsga() eq 'I' ? 'Igen' : 'Nem'}" class="card-data"></div>
        <div th:text="${course.getAktualisLetszam()} + '/' + ${course.getFerohely()}" class="card-data"></div>
        <div th:text="${course.getFelveheto() ? 'Igen' : 'Nem'}" class="card-data"></div>
        <div class="card-data" style="text-align: right;" th:if="${!course.getFelvette() && !course.getTeljesitette()}">
            <form th:action="@{/enrollcourse}" method="GET">
                <input hidden type="number" name="kurzusId" th:value="${course.getKurzusId()}">
                <input type="submit" value="Jelentkezés">
            </form>
        </div>
        <div class="card-data" style="text-align: right;" th:if="${course.getFelvette() && !course.getTeljesitette()}">
            <form th:action="@{/leavecourse}" method="GET">
                <input hidden type="number" name="kurzusId" th:value="${course.getKurzusId()}">
                <input type="submit" value="Lejelentkezés">
            </form>
        </div>
        <div th:if="${course.getTeljesitette()}" class="card-data">Már teljesítetted ezt a tárgyat!</div>
    </div>
</div>

</body>
</html>